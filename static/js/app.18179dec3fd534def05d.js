webpackJsonp([0],{"/o5o":function(e,t,a){"use strict";function s(e){a("wmfG")}var n=a("Aqhm"),r=a("mZRM"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,"data-v-787eb21a",null);t.a=l.exports},"0P3x":function(e,t){},"3ZKj":function(e,t,a){"use strict";function s(e){a("nRXj")}var n=a("vfJ8"),r=a("WtuK"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,"data-v-5bb2c872",null);t.a=l.exports},"6bic":function(e,t,a){"use strict";function s(e){a("VcsH")}var n=a("Aded"),r=a("xrf6"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,null,null);t.a=l.exports},"7xT1":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluide"},[a("div",{staticClass:"row home clearfix"},[e.user.id?a("button",{staticClass:"btn btn col-md-1 switch",on:{click:function(t){e.logOut()}}},[e._v("Log Out")]):e._e(),e._v(" "),""==e.content?a("div",[a("login-section")],1):e._e(),e._v(" "),"calendar"==e.content?a("div",{staticClass:"col-md-12",on:{reload:e.getEvents}},[2==e.user.id_role?a("div",[a("router-link",{attrs:{to:"/employees"}},[a("button",{staticClass:"btn "},[e._v("Employee List")])])],1):e._e(),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"30px"}},[a("ul",e._l(e.rooms,function(t){return a("li",[a("a",{staticClass:"link",staticStyle:{"font-size":"110%"},on:{click:function(a){e.setActiveRoom(t.id)}}},[e._v(e._s(t.name))])])}))]),e._v(" "),e.activeRoomId?a("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"active-room"},[e._v(e._s(e.activeRoomName))]),e._v(" "),a("p",[a("a",{staticClass:"link",staticStyle:{"font-size":"120%"},on:{click:function(t){e.bookIt()}}},[e._v("Book It!")])])]):e._e(),e._v(" "),a("div",{staticClass:"calendar col cal-block"},[a("a",{staticClass:"link",staticStyle:{float:"right",margin:"15px"},on:{click:function(t){e.setWeekFirstDay()}}},[e._v("Calendar type")]),e._v(" "),a("a",{staticClass:"link",staticStyle:{float:"right",margin:"15px"},on:{click:function(t){e.setTimeFormat()}}},[e._v("Change Time Format")]),e._v(" "),a("table",{staticClass:"table table-bordered table-class"},[a("thead",[a("tr",[a("td",{attrs:{colspan:"2"},on:{click:function(t){e.monthMinus()}}},[e._v("◄")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.months_en[e.currMonth-1])+" "+e._s(e.currYear))]),e._v(" "),a("td",{attrs:{colspan:"2"},on:{click:function(t){e.monthPlus()}}},[e._v("►")])])]),e._v(" "),a("tbody",{staticClass:"table-body"},[e.firstDayMonday?a("tr",{staticClass:"header-table"},[a("td",[e._v("Monday")]),e._v(" "),a("td",[e._v("Tuesday")]),e._v(" "),a("td",[e._v("Wednesday")]),e._v(" "),a("td",[e._v("Thursday")]),e._v(" "),a("td",[e._v("Friday")]),e._v(" "),a("td",[e._v("Saturday")]),e._v(" "),a("td",[e._v("Sunday")])]):e._e(),e._v(" "),e.firstDayMonday?e._e():a("tr",{staticClass:"header-table"},[a("td",[e._v("Sunday")]),e._v(" "),a("td",[e._v("Monday")]),e._v(" "),a("td",[e._v("Tuesday")]),e._v(" "),a("td",[e._v("Wednesday")]),e._v(" "),a("td",[e._v("Thursday")]),e._v(" "),a("td",[e._v("Friday")]),e._v(" "),a("td",[e._v("Saturday")])]),e._v(" "),e._l(e.calendarToDraw,function(t){return a("tr",e._l(t,function(t){return a("td",[t.length>1?a("span",[e._v(e._s(t[0]))]):e._e(),e._v(" "),e._l(t[1],function(t){return a("p",[a("a",{staticClass:"link",on:{click:function(a){e.editEvent(t)}}},[a("b",[e._v(e._s(t.timeString))])])])}),e._v(" "),1==t.length?a("span",[e._v(e._s(t[0]))]):e._e()],2)}))})],2)])])]):e._e(),e._v(" "),"bookit"==e.content?a("div",[a("bookit-section",{attrs:{user:e.user,idRoom:e.activeRoomId,timeFormat:e.timeFormat}})],1):e._e(),e._v(" "),e.activeEvent?a("div",[a("modal",{attrs:{event:e.activeEvent,user:e.user,timeFormat:e.timeFormat},on:{close:function(t){e.activeEvent=!1}}})],1):e._e()])])},n=[],r={render:s,staticRenderFns:n};t.a=r},AAOc:function(e,t,a){"use strict";function s(e){a("vzY9")}var n=a("WcR0"),r=a("O3ip"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,null,null);t.a=l.exports},"AKe/":function(e,t,a){"use strict";function s(e){a("bxsm")}var n=a("Xq/6"),r=a("S0Wv"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,"data-v-57db0535",null);t.a=l.exports},Aded:function(e,t,a){"use strict";var s=a("mvHQ"),n=a.n(s);t.a={name:"EditEmployee",props:["user","employee"],data:function(){return{msg:""}},methods:{save:function(){var e=this,t=new XMLHttpRequest,a=n()(e.employee);t.open("PUT",getUrl()+"users/",!0),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);e.msg=!0===a?"Updated":a,e.$parent.getEmployees()}},t.send(a)}}}},ApZj:function(e,t){},Aqhm:function(e,t,a){"use strict";var s=a("mvHQ"),n=a.n(s);t.a={props:["event","user","timeFormat"],name:"Modal",data:function(){return{modeStart:"",modeEnd:"",mode:["AM","PM"],isRecc:!1,aplyToRec:!1,eventStartPoint:"",startH:"",startM:"",endH:"",endM:"",users:"",minutes:["00","30"],selectedUser:"",employees:{},isOwner:!1,isAdmin:!1,msg:"",isDeleted:!1}},created:function(){this.isUserAdmin(),this.isUserOwner(),this.getParametres(),this.isReccuring(),this.getUsers()},methods:{update:function(){var e=this,t={},a=new Date(e.event.start),s=new Date(e.event.end);"24"==e.timeFormat&&(a.setHours(e.startH,e.startM),s.setHours(e.endH,e.endM)),"12"==e.timeFormat&&("AM"==e.modeStart?a.setHours(e.startH,e.startM):12==e.startH?a.setHours(e.endH,e.startM):a.setHours(+e.startH+12,e.startM),"AM"==e.modeEnd&&s.setHours(e.endH,e.endM),"PM"==e.modeEnd&&(12==e.endH?s.setHours(e.endH,e.endM):s.setHours(e.endH+12,e.endM))),t.id=e.event.id,t.id_room=e.event.room_id;var r={};r.startPoint=e.eventStartPoint.getTime(),r.id_user=e.selectedUser,r.timeStart=a.getTime(),r.timeEnd=s.getTime(),r.desc=e.event.descr,t.details=r,e.isRecc&&e.aplyToRec&&(t.occur=!0);var o=new XMLHttpRequest,i=n()(t);o.open("PUT",getUrl()+"events/",!0),o.setRequestHeader("Content-type","application/json; charset=utf-8"),o.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),o.onreadystatechange=function(){if(4==o.readyState)if(200!=o.status)alert(o.status+": "+o.statusText);else{var t=JSON.parse(o.responseText);e.msg=!0===t?"Event updated":t,e.$parent.getEvents()}},o.send(i)},remove:function(){var e=this;e.msg="";var t=new XMLHttpRequest,a=getUrl()+"events/id/"+e.event.id+"/from/"+e.eventStartPoint.getTime()+"/user/"+e.user.id;e.aplyToRec&&(a+="/all/true"),t.open("DELETE",a,!0),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.onreadystatechange=function(){if(4==t.readyState){if(200!=t.status)alert(t.status+": "+t.statusText);else{JSON.parse(t.responseText)&&(e.msg="Deleted")}e.$parent.getEvents(),e.isDeleted=!0}},t.send(null)},isUserOwner:function(){this.user.id==this.event.u_id&&(this.isOwner=!0)},isUserAdmin:function(){this.user.id_role==ADMIN&&(this.isAdmin=!0)},getUsers:function(){var e=this,t=new XMLHttpRequest;e.user.id_role==ADMIN?(t.open("GET",getUrl()+"users/",!0),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);a?e.employees=a:(e.employees=[],e.msg="No users Found",e.isDeleted=!0)}},t.send()):e.employees=[{id:e.event.u_id,name:e.event.u_name}]},getParametres:function(){var e=this;e.currDate=new Date,e.selectedUser=e.event.u_id;var t=new Date(e.event.start),a=new Date(e.event.end);e.eventStartPoint=t,"24"==e.timeFormat?(e.startH=t.getHours(),e.endH=a.getHours()):(t.getHours()>=12?(e.modeStart="PM",12==t.getHours()?e.startH=t.getHours():e.startH=t.getHours()-12):(e.modeStart="AM",e.startH=t.getHours()),a.getHours()>=12?(e.modeEnd="PM",12==a.getHours()?e.endH=a.getHours():e.endH=a.getHours()-12):(e.modeEnd="AM",e.endH=a.getHours())),"0"==t.getMinutes()?e.startM="00":e.startM=t.getMinutes(),"0"==a.getMinutes()?e.endM="00":e.endM=a.getMinutes()},isReccuring:function(){var e=this;if(e.isAdmin||e.isOwner){var t=new XMLHttpRequest;t.open("GET",getUrl()+"events/id/"+e.event.id+"/count/true/user/"+e.user.id,!0),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);a>1&&(e.isRecc=!0)}},t.send()}}},computed:{hoursSelector:function(){var e=this,t=[];if("12"==e.timeFormat)for(var a=1;a<=12;a++)t.push({value:a,title:a});else for(var a=8;a<=20;a++)t.push({value:a,title:a});return t},minutesSelector:function(){var e=this,t=[];return e.minutes.forEach(function(e){t.push({value:e,title:e})}),t}}}},"BM/t":function(e,t){},"C1g/":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"book-it"},[a("div",{staticClass:"row"},[a("div",{staticClass:"row form-login"},[a("div",{staticClass:"col-xs-offset-3 col-sm-8 col-lg-6"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[a("a",{staticClass:"link",on:{click:function(t){e.$parent.content="calendar"}}},[e._v("Back to Calendar")])])]),e._v(" "),a("div",{staticClass:"panel-body",staticStyle:{background:"#EEEEEE"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-offset-2 col-xs-8 col-sm-8 col-md-8 "},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[e._v("Book for")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.userToBook,expression:"userToBook"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.userToBook=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("select user")]),e._v(" "),e._l(e.employees,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)]),e._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[e._v("Date")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedYear,expression:"selectedYear"}],staticClass:"col-md-4 form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedYear=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Year")]),e._v(" "),e._l(e.yearSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedMonth,expression:"selectedMonth"}],staticClass:"col-md-4 form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedMonth=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Month")]),e._v(" "),e._l(e.monthSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDay,expression:"selectedDay"}],staticClass:"col-md-4 form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedDay=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Day")]),e._v(" "),e._l(e.daySelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})],2)]),e._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[e._v("Time start")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.timeStartH,expression:"timeStartH"}],staticClass:"col-md-4 time",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.timeStartH=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("HH")]),e._v(" "),e._l(e.hoursSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.timeStartM,expression:"timeStartM"}],staticClass:"col-md-4 time",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.timeStartM=t.target.multiple?a:a[0]}}},e._l(e.minutesSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})),e._v(" "),"12"==e.timeFormat?a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.modeStart,expression:"modeStart"}],staticClass:"col-md-4 time",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.modeStart=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:e.mode[0]}},[e._v(e._s(e.mode[0]))]),e._v(" "),a("option",{domProps:{value:e.mode[1]}},[e._v(e._s(e.mode[1]))])])]):e._e()]),e._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon",staticStyle:{"padding-right":"16px"}},[e._v("Time end")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.timeEndH,expression:"timeEndH"}],staticClass:"col-md-4 time",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.timeEndH=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("HH")]),e._v(" "),e._l(e.hoursSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.timeEndM,expression:"timeEndM"}],staticClass:"col-md-4 time",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.timeEndM=t.target.multiple?a:a[0]}}},e._l(e.minutesSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})),e._v(" "),"12"==e.timeFormat?a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.modeEnd,expression:"modeEnd"}],staticClass:"col-md-4 time",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.modeEnd=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:e.mode[0]}},[e._v(e._s(e.mode[0]))]),e._v(" "),a("option",{domProps:{value:e.mode[1]}},[e._v(e._s(e.mode[1]))])])]):e._e()]),e._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[e._v("Description")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descr,expression:"descr"}],staticClass:"form-control",attrs:{cols:"30",rows:"3"},domProps:{value:e.descr},on:{input:function(t){t.target.composing||(e.descr=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group col-md-offset-3"},[a("label",[e._v(" Is this going to be a recurring event?")]),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isReccuring,expression:"isReccuring"}],attrs:{type:"radio",id:"one"},domProps:{value:!1,checked:e._q(e.isReccuring,!1)},on:{change:function(t){e.isReccuring=!1}}}),e._v(" "),a("label",{attrs:{for:"one"}},[e._v("No")])]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isReccuring,expression:"isReccuring"}],attrs:{type:"radio",id:"two"},domProps:{value:!0,checked:e._q(e.isReccuring,!0)},on:{change:function(t){e.isReccuring=!0}}}),e._v(" "),a("label",{attrs:{for:"two"}},[e._v("Yes")])])]),e._v(" "),a("div",{staticClass:"input-group col-md-offset-3"},[e.isReccuring?a("div",[a("label",[e._v(" recurring type")]),e._v(" "),e._l(e.recTypes,function(t){return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRecurring,expression:"selectedRecurring"}],attrs:{type:"radio"},domProps:{value:t,checked:e._q(e.selectedRecurring,t)},on:{change:function(a){e.selectedRecurring=t}}}),e._v(" "),a("label",[e._v(e._s(t))])])}),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.duration,expression:"duration"}],attrs:{type:"text",size:"4"},domProps:{value:e.duration},on:{input:function(t){t.target.composing||(e.duration=t.target.value)}}}),e._v(" duration (max 4 weeks)\n                    ")])],2):e._e()])])])]),e._v(" "),a("div",{staticClass:"panel-footer"},[a("button",{staticClass:"btn",on:{click:function(t){e.submit()}}},[e._v("Submit")]),e._v(" "),e.msg?a("div",{staticStyle:{"font-weight":"bold","margin-top":"5px"}},[Array.isArray(e.msg)?e._e():a("p",[e._v(e._s(e.msg))]),e._v(" "),e._l(e.msg,function(t){return"object"==typeof e.msg?a("p",[e._v(e._s(t))]):e._e()})],2):e._e()])])])])])])},n=[],r={render:s,staticRenderFns:n};t.a=r},Fs8J:function(e,t,a){"use strict";var s=a("mvHQ"),n=a.n(s),r=a("xJsL"),o=a("mgzz"),i=a("/o5o");t.a={name:"Main",data:function(){return{months_en:["January","February","March","April","May","June","July","August","September","October","November","December"],refreshed:!1,currMonth:"",currYear:"",firstDayMonday:!0,myCalendar:"",items:[],translateArray:{},rooms:[],events:[],user:{},activeRoomId:"",content:"calendar",isAdmin:!1,timeFormat:"24",showModal:!1,activeEvent:null,activeRoomName:""}},components:{"login-section":r.a,"bookit-section":o.a,modal:i.a},methods:{setTimeFormat:function(){var e=this;return"12"==e.timeFormat?(e.timeFormat="24",void(e.refreshed=!1)):(e.timeFormat="12",void(e.refreshed=!1))},logOut:function(){var e=this;e.content="",e.user={},delete localStorage.user},editEvent:function(e){this.activeEvent=e},bookIt:function(){this.content="bookit"},getStorageData:function(){var e=this;localStorage.user?(e.user=JSON.parse(localStorage.user),e.checkAuth(e.user.id,e.user.hash)):e.content=""},checkAuth:function(e,t){var a=this,s=new XMLHttpRequest;s.open("GET",getUrl()+"auth/",!0),s.setRequestHeader("Authorization","Basic "+btoa(e+":"+t)),s.setRequestHeader("Content-type","application/json; charset=utf-8"),s.onreadystatechange=function(){if(4==s.readyState)if(200!=s.status);else{var e=JSON.parse(s.responseText);e?a.getUserInfo():a.content=""}},s.send()},getUserInfo:function(){var e=this,t=new XMLHttpRequest;t.open("GET",getUrl()+"users/"+e.user.id,!0),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status);else{var a=JSON.parse(t.responseText);a?e.user=a[0]:e.content="",e.checkRole()}},t.send()},checkRole:function(){var e=this;e.user.id_role==ADMIN?e.isAdmin=!0:e.isAdmin=!1},createCalendar:function(){var e=this,t=e.currYear,a=e.currMonth,s=a-1,n=new Date(t,s);e.items[0]=[];for(var r=0;r<e.getDay(n);r++)e.items[0].push({});for(var o=0;n.getMonth()==s;)e.items[o].push([n.getDate()]),e.getDay(n)%7==6&&(o++,e.items[o]=[]),n.setDate(n.getDate()+1);e.refreshed=!1},getDay:function(e){var t=this,a=e.getDay();return t.firstDayMonday?(0==a&&(a=7),a-1):a},getMonth:function(){this.currMonth=(new Date).getMonth()+1},getYear:function(){this.currYear=(new Date).getFullYear()},monthPlus:function(){var e=this;e.items=[],e.currMonth<12?e.currMonth++:(e.currYear++,e.currMonth=1),e.getEvents()},monthMinus:function(){var e=this;e.items=[],e.currMonth>1?e.currMonth--:(e.currYear--,e.currMonth=12),e.getEvents()},setWeekFirstDay:function(){var e=this;e.firstDayMonday=!e.firstDayMonday,e.refreshed=!1,e.items=[],e.createCalendar()},getRooms:function(){var e=this,t=new XMLHttpRequest;t.open("GET",getUrl()+"rooms/",!0),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);a?(e.rooms=a,e.setActiveRoom(e.rooms[0].id)):e.errMsg="Rooms not found"}},t.send()},getEvents:function(){var e=this,t=new XMLHttpRequest;t.open("GET",getUrl()+"events/year/"+e.currYear+"/month/"+e.currMonth+"/room/"+e.activeRoomId,!0),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);e.events=a||[],e.createCalendar()}},t.send()},setActiveRoom:function(e){var t=this;t.activeRoomId=e,t.rooms.forEach(function(a){a.id==e&&(t.activeRoomName=a.name)}),t.getEvents()}},created:function(){this.getStorageData(),this.getMonth(),this.getYear(),this.getRooms()},computed:{calendarToDraw:function(){var e=this;if(!e.refreshed){var t=JSON.parse(n()(e.items));t.forEach(function(t,a){t.forEach(function(t){if(t[0]){var a=new Date(e.currYear,e.currMonth-1,t[0]);e.events.forEach(function(s){var n=new Date(s.start);if(a.toDateString()==n.toDateString()){var r=new Date(s.start).getHours(),o=new Date(s.start).getMinutes(),i=new Date(s.end).getHours(),l=new Date(s.end).getMinutes();if(o=0===o?"00":"30",0===l)var l="00";else var l="30";if("24"==e.timeFormat&&(s.timeString=r+":"+o+" - "+i+":"+l),"12"==e.timeFormat){if(+r>=12)if(12==+r)var u=+r+":"+o+" pm - ";else var u=+r-12+":"+o+" pm - ";else var u=+r+":"+o+" am - ";if(+i>=12)if(12==+i)var c=+i+":"+l+" pm";else var c=+i-12+":"+l+" pm";else var c=+i+":"+l+" am";s.timeString=u+c}1==t.length?t.push([s]):t[1].push(s)}o=void 0})}})}),e.refreshed=!0}return t}}}},IlTD:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-flide auth row"},[a("div",{staticClass:"col-md-offset-4 col-md-5",staticStyle:{width:"400px"},attrs:{id:"auth-form"}},[a("form",{staticClass:"container-for",attrs:{role:"form"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1",placeholder:"Enter email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword1"}},[e._v("Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:"Password"},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(t){e.login()}}},[e._v("Submit")]),e._v(" "),a("p",{staticStyle:{padding:"10px"}},[e._v(e._s(e.msg))])])])])},n=[],r={render:s,staticRenderFns:n};t.a=r},M93x:function(e,t,a){"use strict";function s(e){a("ApZj")}var n=a("xJD8"),r=a("T5r7"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,null,null);t.a=l.exports},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n=a("M93x"),r=a("YaEn");s.a.config.productionTip=!1,new s.a({el:"#app",router:r.a,template:"<App/>",components:{App:n.a}})},O3ip:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reg row"},[a("div",{staticClass:"col-md-5",staticStyle:{width:"400px"},attrs:{id:"regform"}},[a("form",{attrs:{role:"form "}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail",placeholder:"Enter email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),a("small",{staticClass:"text-muted"},[e._v("\n          example@gmail.com\n        ")])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputName"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputPassword1",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),a("small",{staticClass:"text-muted",attrs:{id:"passwordHelpInlinee"}},[e._v("\n          Must be 3-20 characters long, contain letters, and must not contain spaces, special characters, or emoji.\n        ")])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword1"}},[e._v("Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:"Password"},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}}),e._v(" "),a("small",{staticClass:"text-muted",attrs:{id:"passwordHelpInlinee"}},[e._v("\n          Must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.\n        ")])]),e._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(t){e.addUser()}}},[e._v("Submit")]),e._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(t){e.$parent.content="list"}}},[e._v("Back")]),e._v(" "),a("p",{staticStyle:{padding:"10px"}},[e._v(e._s(e.msg))])])])])},n=[],r={render:s,staticRenderFns:n};t.a=r},S0Wv:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"remove-employee"},[a("p",[e._v(" Are you sure you want to delete contact\n    "),a("span",[a("b",[e._v(e._s(e.emp.name))]),e._v("?")])]),e._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(t){e.remove()}}},[e._v("YES")]),e._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(t){e.$parent.content="list"}}},[e._v("Back")]),e._v(" "),a("p",[e._v(e._s(e.msg))])])},n=[],r={render:s,staticRenderFns:n};t.a=r},T5r7:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clearfix",attrs:{id:"app"}},[a("router-view")],1)},n=[],r={render:s,staticRenderFns:n};t.a=r},VcsH:function(e,t){},WcR0:function(e,t,a){"use strict";var s=a("mvHQ"),n=a.n(s);t.a={name:"Register",props:["user"],data:function(){return{msg:"",email:"",name:"",pass:""}},methods:{addUser:function(){var e=this;if(e.name&&e.email&&e.pass){var t=new XMLHttpRequest,a=n()({name:e.name,email:e.email,pass:e.pass});t.open("POST",getUrl()+"users/",!0),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);!0===a?(e.msg="User Added",e.email="",e.name="",e.pass="",e.$parent.getEmployees()):e.msg=a}},t.send(a)}else e.msg="All fields are required"}}}},WtuK:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"employees"},["list"==e.content?a("div",[a("p",[a("router-link",{attrs:{to:"/"}},[a("button",{staticClass:"btn btn"},[e._v(" Back to Calendar")])])],1),e._v(" "),a("p",[a("button",{staticClass:"btn btn",on:{click:function(t){e.setContent("add")}}},[e._v("Add new employee")])])]):a("div",[a("p",[a("button",{staticClass:"btn btn",on:{click:function(t){e.setContent("list")}}},[e._v("Back to Emploees list")])])]),e._v(" "),"add"==e.content?a("div",[a("add-section",{attrs:{user:e.user}})],1):e._e(),e._v(" "),"edit"==e.content?a("div",[a("edit-section",{attrs:{user:e.user,employee:e.employeeToEdit}})],1):e._e(),e._v(" "),"list"==e.content?a("div",[e.employees?a("div",{staticClass:"row"},[a("div",{staticClass:"col content"},[a("table",{staticClass:"table"},[a("thead"),e._v(" "),a("tbody",e._l(e.employees,function(t){return a("tr",[a("td",[a("a",{attrs:{href:"mailto:"+t.email}},[e._v(e._s(t.name))])]),e._v(" "),a("td",[a("a",{staticClass:"link",on:{click:function(a){e.edit(t)}}},[e._v("Edit")])]),e._v(" "),e.user.id!=t.id?a("td",[a("a",{staticClass:"link",on:{click:function(a){e.showRemove(t)}}},[e._v("Remove")])]):a("td")])}))])])]):e._e(),e._v(" "),e.employees?e._e():a("div"),e._v("\n    "+e._s(e.msg)+"\n  ")]):e._e(),e._v(" "),"remove"==e.content?a("div",[a("remove-section",{attrs:{emp:e.empToRemove,user:e.user}})],1):e._e()])},n=[],r={render:s,staticRenderFns:n};t.a=r},"Xq/6":function(e,t,a){"use strict";t.a={props:["emp","user"],name:"HelloWorld",data:function(){return{msg:""}},methods:{remove:function(){var e=this;e.msg="";var t=new XMLHttpRequest;t.open("DELETE",getUrl()+"users/id/"+e.emp.id,!0),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);a?(e.msg="Deleted",e.$parent.getEmployees()):e.msg="Fail"}},t.send(null)}}}},YaEn:function(e,t,a){"use strict";var s=a("7+uW"),n=a("/ocq"),r=a("lO7g"),o=a("3ZKj");s.a.use(n.a),t.a=new n.a({routes:[{path:"/",name:"Home",component:r.a},{path:"/employees",name:"Employees",component:o.a}]})},bxsm:function(e,t){},iGfL:function(e,t){},lO7g:function(e,t,a){"use strict";function s(e){a("BM/t")}var n=a("Fs8J"),r=a("7xT1"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,"data-v-66ccbe02",null);t.a=l.exports},mZRM:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal"},[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask "},[a("div",{staticClass:"modal-wrapper "},[a("div",{staticClass:"modal-container text-center center-block"},[e._t("header",[a("span",{staticStyle:{"font-weight":"bold","font-size":"15px"}},[e._v("Event Details ")])]),e._v(" "),e._t("body",[e.currDate<e.eventStartPoint&&(e.isOwner||e.isAdmin)&&!e.isDeleted?a("div",[e._v(" Time:\n              "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.startH,expression:"startH"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.startH=t.target.multiple?a:a[0]}}},e._l(e.hoursSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.startM,expression:"startM"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.startM=t.target.multiple?a:a[0]}}},e._l(e.minutesSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})),e._v(" "),"12"==e.timeFormat?a("select",{directives:[{name:"model",rawName:"v-model",value:e.modeStart,expression:"modeStart"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.modeStart=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:e.mode[0]}},[e._v(e._s(e.mode[0]))]),e._v(" "),a("option",{domProps:{value:e.mode[1]}},[e._v(e._s(e.mode[1]))])]):e._e(),e._v("\n              -\n              "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.endH,expression:"endH"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.endH=t.target.multiple?a:a[0]}}},e._l(e.hoursSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.endM,expression:"endM"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.endM=t.target.multiple?a:a[0]}}},e._l(e.minutesSelector,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.title))])})),e._v(" "),"12"==e.timeFormat?a("select",{directives:[{name:"model",rawName:"v-model",value:e.modeEnd,expression:"modeEnd"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.modeEnd=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:e.mode[0]}},[e._v(e._s(e.mode[0]))]),e._v(" "),a("option",{domProps:{value:e.mode[1]}},[e._v(e._s(e.mode[1]))])]):e._e()]):e._e(),e._v(" "),e.currDate>e.eventStartPoint||!e.isOwner&&!e.isAdmin||e.isDeleted?a("div",[e._v("\n              Time:\n              "),a("span",[e._v(e._s(e.startH)+":"+e._s(e.endM)+" - "+e._s(e.endH)+":"+e._s(e.endM))])]):e._e(),e._v(" "),e.currDate<e.eventStartPoint&&(e.isOwner||e.isAdmin)&&!e.isDeleted?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[e._v("\n              Notes:\n              "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.event.descr,expression:"event.descr"}],domProps:{value:e.event.descr},on:{input:function(t){t.target.composing||e.$set(e.event,"descr",t.target.value)}}})]):e._e(),e._v(" "),!e.isOwner&&!e.isAdmin||e.currDate>e.eventStartPoint||e.isDeleted?a("div",[e._v("\n              Notes:\n              "),a("span",[e._v(e._s(e.event.descr))])]):e._e(),e._v(" "),e.isAdmin&&e.currDate<e.eventStartPoint&&!e.isDeleted?a("div",[e._v("\n              Who:\n              "),e.employees?a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedUser,expression:"selectedUser"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedUser=t.target.multiple?a:a[0]}}},e._l(e.employees,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})):e._e()]):e._e(),e._v(" "),!e.isAdmin||e.currDate>e.eventStartPoint||e.isDeleted?a("div",[e._v("\n              Who:\n              "),a("span",[e._v(e._s(e.event.u_name))])]):e._e(),e._v(" "),a("p"),e._v(" "),a("p",[e._v(" PubDate: "+e._s(e.event.submit))]),e._v(" "),e.currDate<e.eventStartPoint&&(e.isOwner||e.isAdmin)&&!e.isDeleted?a("div",[e.isRecc?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.aplyToRec,expression:"aplyToRec"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.aplyToRec)?e._i(e.aplyToRec,null)>-1:e.aplyToRec},on:{change:function(t){var a=e.aplyToRec,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&(e.aplyToRec=a.concat([null])):r>-1&&(e.aplyToRec=a.slice(0,r).concat(a.slice(r+1)))}else e.aplyToRec=n}}}),e._v("Apply to occurencies, (starts from this event)\n              ")]):e._e(),e._v(" "),a("div",{staticClass:"butt-act"},[a("button",{staticClass:"btn btn",on:{click:function(t){e.update()}}},[e._v("update")]),e._v(" "),a("button",{staticClass:"btn btn",on:{click:function(t){e.remove()}}},[e._v("delete")])])]):e._e(),e._v(" "),a("button",{staticClass:" btn btn col-xs-offset-10",on:{click:function(t){e.$emit("close")}}},[e._v(" OK ")]),e._v(" "),e.msg?a("div",[Array.isArray(e.msg)?e._e():a("p",[e._v(e._s(e.msg))]),e._v(" "),e._l(e.msg,function(t){return"object"==typeof e.msg?a("p",[e._v(e._s(t))]):e._e()})],2):e._e()])],2)])])])],1)},n=[],r={render:s,staticRenderFns:n};t.a=r},mgzz:function(e,t,a){"use strict";function s(e){a("0P3x")}var n=a("vxV4"),r=a("C1g/"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,"data-v-67db0dd7",null);t.a=l.exports},"nKb+":function(e,t,a){"use strict";var s=a("mvHQ"),n=a.n(s);a("lO7g");t.a={name:"Auth",data:function(){return{email:"",pass:"",msg:"",user:""}},methods:{login:function(){var e=this;if(e.email&&e.pass){e.msg="";var t=new XMLHttpRequest,a=n()({login:e.email,pass:e.pass});t.open("PUT",getUrl()+"auth/",!0),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);a?(e.user=a[0],localStorage.user=n()({id:e.user.id,hash:e.user.hash}),e.$parent.content="calendar",e.$parent.getStorageData()):e.msg="Wrong login or password"}},t.send(a)}else e.msg="Wrong login or password"}}}},nRXj:function(e,t){},vfJ8:function(e,t,a){"use strict";var s=a("AAOc"),n=a("6bic"),r=a("AKe/");t.a={name:"Employees",data:function(){return{employees:[],user:{},msg:"",content:"list",employeeToEdit:{},empToRemove:{}}},created:function(){this.getStorageData(),this.getEmployees()},components:{"add-section":s.a,"edit-section":n.a,"remove-section":r.a},methods:{getStorageData:function(){var e=this;localStorage.user?(e.user=JSON.parse(localStorage.user),e.checkAuth(e.user.id,e.user.hash)):e.$router.push("/")},setContent:function(e){this.content=e},checkAuth:function(e,t){var a=this,s=new XMLHttpRequest;s.open("GET",getUrl()+"auth/",!0),s.setRequestHeader("Authorization","Basic "+btoa(e+":"+t)),s.setRequestHeader("Content-type","application/json; charset=utf-8"),s.onreadystatechange=function(){if(4==s.readyState)if(200!=s.status);else{var e=JSON.parse(s.responseText);e||a.$router.push("/")}},s.send()},getEmployees:function(){var e=this,t=new XMLHttpRequest;t.open("GET",getUrl()+"users/",!0),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);a?e.employees=a:(e.employees=[],e.msg="No users Found")}},t.send()},edit:function(e){var t=this;t.employeeToEdit=e,t.content="edit"},showRemove:function(e){var t=this;t.empToRemove=e,t.setContent("remove")}}}},vxV4:function(e,t,a){"use strict";var s=a("RRo+"),n=a.n(s),r=a("mvHQ"),o=a.n(r);t.a={name:"BookIt",props:["user","idRoom","timeFormat"],data:function(){return{msg:"",duration:"",isReccuring:!1,selectedRecurring:"weekly",recTypes:["weekly","be-weekly","monthly"],descr:"",curtentDate:new Date,employees:[],userToBook:"",selectedYear:"",yearsInDropdown:2,mode:["AM","PM"],modeStart:"AM",modeEnd:"AM",minutes:["00","30"],selectedMonth:"",selectedDay:"",timeStartH:"",timeStartM:"00",timeEndH:"",timeEndM:"00",timeStartMod:"",timeEndMod:""}},methods:{submit:function(){var e=this;e.msg="";var t=new Date(e.selectedYear,e.selectedMonth,e.selectedDay,8,0).getTime(),a=new Date(e.selectedYear,e.selectedMonth,e.selectedDay,20,0).getTime();if(e.checkInputs()){var s={};if(s.id_room=e.idRoom,s.details={},s.details.id_emp=e.userToBook,s.details.descr=e.descr,"12"==e.timeFormat?(s.details.start=new Date(e.selectedMonth+1+"/"+e.selectedDay+"/"+e.selectedYear+" "+e.timeStartH+":"+e.timeStartM+" "+e.modeStart).getTime(),s.details.end=new Date(e.selectedMonth+1+"/"+e.selectedDay+"/"+e.selectedYear+" "+e.timeEndH+":"+e.timeEndM+" "+e.modeEnd).getTime()):(s.details.start=new Date(e.selectedYear,e.selectedMonth,e.selectedDay,e.timeStartH,e.timeStartM).getTime(),s.details.end=new Date(e.selectedYear,e.selectedMonth,e.selectedDay,e.timeEndH,e.timeEndM).getTime()),s.details.start>s.details.end)return void(e.msg="Start of event must be earlier than end");if(s.details.start<t||s.details.end<t||s.details.start>a||s.details.end>a)return void(e.msg="Avaliable time 8:00-20:00");if(e.isReccuring){var n={};n.type=e.selectedRecurring,n.duration=e.duration,s.reccuring=n}var r=new XMLHttpRequest,i=o()(s);r.open("POST",getUrl()+"events/",!0),r.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),r.setRequestHeader("Content-type","application/json; charset=utf-8"),r.onreadystatechange=function(){if(4==r.readyState){if(200!=r.status)alert(r.status+": "+r.statusText);else{var t=JSON.parse(r.responseText);e.msg=!0===t?"Added":t}e.$parent.getEvents()}},r.send(i)}},checkInputs:function(){var e=this;if(!e.userToBook)return e.msg="Select User",!1;if(!e.selectedYear||!n()(e.selectedMonth)||!e.selectedDay)return e.msg="Select Day",!1;if(!(e.timeStartH&&e.timeStartM&&e.timeEndH&&e.timeEndM))return e.msg="Check time fileds",!1;if(!e.descr)return e.msg="Check description field",!1;if(e.isReccuring){if(""==e.duration)return e.msg="Duration required",!1;if(!n()(+e.duration)||+e.duration<0)return e.msg="Duration must be a positive integer",!1;if("weekly"==e.selectedRecurring){if(!n()(+e.duration)||+e.duration>3)return e.msg="duration on Weekly type must be in (1-3)",!1;if("be-weekly"==e.selectedRecurring&&(!n()(+e.duration)||+e.duration>2))return e.msg="duration on be-weekly type must be in (1-2)",!1;if("monthly"==e.selectedRecurring&&"1"!=e.duration)return e.msg="on Monthly max duration is 1",!1}}return!0},getEmployees:function(){var e=this,t=new XMLHttpRequest;e.user.id_role==ADMIN?t.open("GET",getUrl()+"users/",!0):t.open("GET",getUrl()+"users/"+e.user.id,!0),t.setRequestHeader("Authorization","Basic "+btoa(e.user.id+":"+e.user.hash)),t.onreadystatechange=function(){if(4==t.readyState)if(200!=t.status)alert(t.status+": "+t.statusText);else{var a=JSON.parse(t.responseText);a?e.employees=a:(e.employees=[],e.msg="No users Found")}},t.send()}},created:function(){this.getEmployees()},computed:{yearSelector:function(){for(var e=this,t=[],a=0;a<e.yearsInDropdown;a++)t.push({value:(new Date).getFullYear()+a,title:(new Date).getFullYear()+a});return t},monthSelector:function(){var e=this,t=new Date,a=[],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(t.getFullYear()!=e.selectedYear&&s.forEach(function(e,t){a.push({value:t,title:e})}),t.getFullYear()==e.selectedYear){e.selectedMonth="";for(var n=t.getMonth();n<=11;n++)a.push({value:n,title:s[n]})}return a},daySelector:function(){var e=this,t=[],a=new Date(e.selectedYear,e.selectedMonth),s=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();if(a.getFullYear()==e.curtentDate.getFullYear()&&a.getMonth()==e.curtentDate.getMonth()){e.selectedDay="";for(var n=e.curtentDate.getDate();n<=s;n++){var r=new Date(e.selectedYear,e.selectedMonth,n);6!=r.getDay()&&0!=r.getDay()&&t.push({value:n,title:n})}}else for(var n=1;n<=s;n++){var r=new Date(e.selectedYear,e.selectedMonth,n);6!=r.getDay()&&0!=r.getDay()&&t.push({value:n,title:n})}return t},hoursSelector:function(){var e=this,t=[];if("12"==e.timeFormat)for(var a=1;a<=12;a++)t.push({value:a,title:a});else for(var a=8;a<=20;a++)t.push({value:a,title:a});return t},minutesSelector:function(){var e=this,t=[];return e.minutes.forEach(function(e){t.push({value:e,title:e})}),t}}}},vzY9:function(e,t){},wmfG:function(e,t){},xJD8:function(e,t,a){"use strict";t.a={name:"app"}},xJsL:function(e,t,a){"use strict";function s(e){a("iGfL")}var n=a("nKb+"),r=a("IlTD"),o=a("VU/8"),i=s,l=o(n.a,r.a,!1,i,"data-v-dea02e54",null);t.a=l.exports},xrf6:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-employee row"},[a("div",{staticClass:"col-md-5",staticStyle:{width:"400px"},attrs:{id:"regform"}},[a("form",{attrs:{role:"form "}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[e._v("New Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.email,expression:"employee.email"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail",placeholder:"Enter email"},domProps:{value:e.employee.email},on:{input:function(t){t.target.composing||e.$set(e.employee,"email",t.target.value)}}}),e._v(" "),a("small",{staticClass:"text-muted"},[e._v("\n          example@gmail.com\n        ")])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputName"}},[e._v("New Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.name,expression:"employee.name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputPassword1",placeholder:"Name"},domProps:{value:e.employee.name},on:{input:function(t){t.target.composing||e.$set(e.employee,"name",t.target.value)}}}),e._v(" "),a("small",{staticClass:"text-muted",attrs:{id:"passwordHelpInlinee"}},[e._v("\n          Must be 3-20 characters long, contain letters, and must not contain spaces, special characters, or emoji.\n        ")])]),e._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(t){e.save()}}},[e._v("Save")]),e._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(t){e.$parent.content="list"}}},[e._v("Back")]),e._v(" "),a("p",{staticStyle:{padding:"10px"}},[e._v(e._s(e.msg))])])])])},n=[],r={render:s,staticRenderFns:n};t.a=r}},["NHnr"]);
//# sourceMappingURL=app.18179dec3fd534def05d.js.map